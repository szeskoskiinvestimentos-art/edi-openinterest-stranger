<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDI Market Guardin V1 - Dashboard Stranger Things</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <div id="particles-js"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1 class="logo-text">EDI MARKET GUARDIN</h1>
                <div class="logo-subtitle">V1 - ANALYTICS LAB</div>
            </div>
            <div class="header-glow"></div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <ul class="nav-list">
                <li><a href="#overview" class="nav-link active">Vis√£o Geral</a></li>
                <li><a href="#delta" class="nav-link">Essenciais</a></li>
                <li><a href="#structure" class="nav-link">Estrutura</a></li>
                <li><a href="#greeks2" class="nav-link">Gregas</a></li>
                <li><a href="#structure-v3" class="nav-link">V3 Analysis</a></li>
                <li><a href="#risk" class="nav-link">Risco</a></li>
                <li><a href="#consolidated" class="nav-link">Consolidado</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            
            <!-- Overview Section -->
            <section id="overview" class="section">
                <div class="section-header">
                    <h2 class="section-title">VIS√ÉO GERAL DO MERCADO</h2>
                    <div class="section-glow"></div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üìä</div>
                        <div class="metric-value" id="total-trades">0</div>
                        <div class="metric-label">Total de Neg√≥cios</div>
                        <div class="metric-change positive">+12.5%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üí∞</div>
                        <div class="metric-value" id="volume-total">0</div>
                        <div class="metric-label">Open Interest Total</div>
                        <div class="metric-change positive">+8.3%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">‚ö°</div>
                        <div class="metric-value" id="gamma-exposure">0</div>
                        <div class="metric-label">Gamma Exposure</div>
                        <div class="metric-change negative">-2.1%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üéØ</div>
                        <div class="metric-value" id="delta-position">0</div>
                        <div class="metric-label">Delta Position</div>
                        <div class="metric-change neutral">0.0%</div>
                    </div>
                </div>

                <!-- Resumo Executivo (Fair Value) -->
                <div class="split-layout" style="margin-top: 40px;">
                    <div class="context-box">
                        <h3>üéØ Resumo Executivo: Simula√ß√£o de Valor Justo</h3>
                        <p>Proje√ß√£o de pre√ßo das op√ß√µes principais em cen√°rios de teste de estresse (Call Wall, Put Wall, Gamma Flip).</p>
                    </div>
                    <div id="fair-value-container" class="table-container">
                        <p>Carregando simula√ß√µes...</p>
                    </div>
                </div>
            </section>

            <!-- Delta Section -->
            <section id="delta" class="section">
                <div class="section-header">
                    <h2 class="section-title">DELTA ACUMULADO</h2>
                    <div class="section-glow"></div>
                </div>
                
                <div class="split-layout">
                    <div class="context-box">
                        <h3>üìö O que √© Delta Acumulado?</h3>
                        <p>O Delta Acumulado representa a soma de todas as posi√ß√µes delta das op√ß√µes em um determinado pre√ßo. Ele nos mostra onde os dealers est√£o expostos e onde podem haver n√≠veis de suporte ou resist√™ncia no mercado.</p>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="deltaChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Gamma Section -->
            <section id="gamma" class="section">
                <div class="section-header">
                    <h2 class="section-title">GAMMA EXPOSURE</h2>
                    <div class="section-glow"></div>
                </div>
                
                <div class="split-layout">
                    <div class="context-box">
                        <h3>üìö O que √© Gamma Exposure?</h3>
                        <p>O Gamma Exposure indica como o delta muda conforme o pre√ßo do ativo se move. Valores positivos sugerem que os dealers precisar√£o comprar o ativo subjacente se o pre√ßo subir, criando um efeito de momentum.</p>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="gammaChart"></canvas>
                    </div>
                </div>
            </section>


            <!-- Volatility Section -->
            <section id="volatility" class="section">
                <div class="section-header">
                    <h2 class="section-title">VOLATILIDADE IMPL√çCITA & SKEW</h2>
                    <div class="section-glow"></div>
                </div>
                
                <div class="split-layout">
                    <div class="context-box">
                        <h3>üìö O que √© Volatilidade e Skew?</h3>
                        <p>A Volatilidade Impl√≠cita indica a expectativa de varia√ß√£o futura. O "Skew" (curva de sorriso) mostra como o mercado precifica o risco em diferentes strikes. Um "sorriso" acentuado indica medo de movimentos extremos.</p>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="volatilityChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Advanced Section (Key Levels) -->
            <section id="advanced" class="section">
                <div class="section-header">
                    <h2 class="section-title">N√çVEIS CHAVE DE MERCADO</h2>
                    <div class="section-glow"></div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üîÑ</div>
                        <div class="metric-value" id="gamma-flip">Loading...</div>
                        <div class="metric-label">Gamma Flip</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üß±</div>
                        <div class="metric-value" id="call-wall">Loading...</div>
                        <div class="metric-label">Call Wall</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üõ°Ô∏è</div>
                        <div class="metric-value" id="put-wall">Loading...</div>
                        <div class="metric-label">Put Wall</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üòñ</div>
                        <div class="metric-value" id="max-pain">Loading...</div>
                        <div class="metric-label">Max Pain</div>
                    </div>
                </div>
            </section>

            <!-- EXPOSI√á√ÉO & ESTRUTURA -->
            <section id="structure" class="section">
                <div class="section-header">
                    <h2 class="section-title">EXPOSI√á√ÉO & ESTRUTURA</h2>
                    <div class="section-glow"></div>
                </div>

                <!-- Delta Agregado -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üìä Delta Agregado</h3>
                        <p>Vis√£o consolidada da exposi√ß√£o de Delta em todo o mercado. Permite identificar o vi√©s direcional macro dos dealers.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="deltaAgregadoChart"></canvas>
                    </div>
                </div>

                <!-- OI Strike -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üìç Open Interest por Strike</h3>
                        <p>Distribui√ß√£o dos contratos em aberto. Grandes concentra√ß√µes de OI funcionam como √≠m√£s ou barreiras de pre√ßo.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="oiStrikeChart"></canvas>
                    </div>
                </div>

                <!-- GEX Call/Put Split -->
                <div class="split-layout">
                    <div class="context-box">
                        <h3>‚ö° Gamma Exposure (Call vs Put)</h3>
                        <p>Detalhamento da exposi√ß√£o de Gamma separada por Calls e Puts, permitindo identificar o posicionamento dominante em cada strike.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="gexSplitChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- GREGAS DE 2¬™ ORDEM -->
            <section id="greeks2" class="section">
                <div class="section-header">
                    <h2 class="section-title">GREGAS DE 2¬™ ORDEM</h2>
                    <div class="section-glow"></div>
                </div>

                <!-- Vanna Exposure -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üåä Vanna Exposure</h3>
                        <p>Sensibilidade do Delta em rela√ß√£o √† mudan√ßa na Volatilidade Impl√≠cita. Importante em eventos de volatilidade.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="vannaChart"></canvas>
                    </div>
                </div>

                <!-- Charm Exposure -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üìÖ Charm Exposure</h3>
                        <p>Exposi√ß√£o √† passagem do tempo. Mostra como as posi√ß√µes dos dealers mudam conforme o vencimento se aproxima.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="charmChart"></canvas>
                    </div>
                </div>

                <!-- Theta Exposure -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>‚è≥ Theta Exposure</h3>
                        <p>Decaimento temporal das op√ß√µes. Mostra a perda de valor di√°ria das posi√ß√µes devido √† passagem do tempo.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="thetaChart"></canvas>
                    </div>
                </div>

                <!-- Vega Exposure -->
                <div class="split-layout">
                    <div class="context-box">
                        <h3>üí• Vega Exposure</h3>
                        <p>Exposi√ß√£o total √† volatilidade. Indica quanto o PnL dos dealers muda para cada 1% de altera√ß√£o na IV.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="vegaChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- GREGAS ACUMULADAS & R-GAMMA -->
            <section id="greeks-cum" class="section">
                <div class="section-header">
                    <h2 class="section-title">GREGAS ACUMULADAS & R-GAMMA</h2>
                    <div class="section-glow"></div>
                </div>

                <!-- Charm Acumulado -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üìÖ Charm Acumulado</h3>
                        <p>Vis√£o cumulativa do Charm. Ajuda a identificar n√≠veis de press√£o estrutural ao longo do tempo.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="charmCumChart"></canvas>
                    </div>
                </div>

                <!-- Vanna Acumulado -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üåä Vanna Acumulado</h3>
                        <p>Vis√£o cumulativa do Vanna. Indica zonas onde a mudan√ßa na volatilidade tem maior impacto estrutural no Delta.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="vannaCumChart"></canvas>
                    </div>
                </div>

                <!-- Theta Acumulado -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>‚è≥ Theta Acumulado</h3>
                        <p>Vis√£o cumulativa do Theta. Mostra o decaimento temporal agregado ao longo dos strikes.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="thetaCumChart"></canvas>
                    </div>
                </div>

                <!-- R-Gamma (PVOP) Exposure -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>‚ö° R-Gamma (PVOP) Exposure</h3>
                        <p>Gamma ajustado pelo fluxo direcional (PVOP). Identifica se o Gamma em um strike √© estabilizador ou desestabilizador.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="rGammaChart"></canvas>
                    </div>
                </div>
                
                 <!-- R-Gamma (PVOP) Cumulativo -->
                <div class="split-layout">
                    <div class="context-box">
                        <h3>‚ö° R-Gamma Acumulado</h3>
                        <p>Acumulado do R-Gamma. Mostra o regime de volatilidade predominante (Long/Short Gamma) ajustado pelo fluxo.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="rGammaCumChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- AN√ÅLISE ESTRUTURAL (V3) -->
            <section id="structure-v3" class="section">
                <div class="section-header">
                    <h2 class="section-title">AN√ÅLISE ESTRUTURAL (V3)</h2>
                    <div class="section-glow"></div>
                </div>

                <!-- Max Pain Curve -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üò´ Max Pain Curve</h3>
                        <p>Curva de perda te√≥rica para os compradores de op√ß√µes. O ponto m√≠nimo (vale) representa o pre√ßo de "dor m√°xima" onde a maior quantidade de op√ß√µes expira sem valor.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="maxPainChart"></canvas>
                    </div>
                </div>

                <!-- Expected Move Cone -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üîî Expected Move (Cone)</h3>
                        <p>Proje√ß√£o da varia√ß√£o de pre√ßo esperada (1 Desvio Padr√£o) baseada na Volatilidade Impl√≠cita para diferentes prazos.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="expectedMoveChart"></canvas>
                    </div>
                </div>

                <!-- Gamma Flip Cone -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üå™Ô∏è Gamma Flip Cone</h3>
                        <p>Proje√ß√£o de volatilidade baseada no Gamma Flip. Mostra como o n√≠vel de flip varia dependendo do peso dado √† Volatilidade Impl√≠cita versus Open Interest.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="gammaFlipConeChart"></canvas>
                    </div>
                </div>

                <!-- Delta Flip Profile -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üîÑ Delta Flip Profile</h3>
                        <p>Perfil de sensibilidade do Delta Flip. Mostra onde o Delta do mercado vira de positivo para negativo em diferentes cen√°rios de pre√ßo.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="deltaFlipProfileChart"></canvas>
                    </div>
                </div>

                <!-- Flow Sentiment -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üåä Flow Sentiment</h3>
                        <p>An√°lise do fluxo de agress√£o (Bullish vs Bearish) baseado no volume e varia√ß√£o de pre√ßo das op√ß√µes.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="flowSentimentChart"></canvas>
                    </div>
                </div>

                <!-- Dealer Pressure Index -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>‚ö° Dealer Pressure Index</h3>
                        <p>√çndice de press√£o sobre os Dealers. Valores extremos indicam potencial para Gamma Squeeze ou revers√£o for√ßada.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="dealerPressureChart"></canvas>
                    </div>
                </div>

                <!-- Market Maker PnL Simulation -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box">
                        <h3>üí∞ Simula√ß√£o PnL do Market Maker</h3>
                        <p>Estimativa do Lucro/Preju√≠zo dos Market Makers em diferentes cen√°rios de pre√ßo. O mercado tende a se mover para onde os MMs perdem menos (Max Pain din√¢mico).</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="mmPnlChart"></canvas>
                    </div>
                </div>

                <!-- Fair Value Simulation -->
                <div class="split-layout">
                    <div class="context-box" style="width: 100%;">
                        <h3>üíé Simula√ß√£o de Valor Justo (Fair Value)</h3>
                        <p>Pre√ßo estimado das op√ß√µes em cen√°rios de mercado simulados (Call Wall, Put Wall, Gamma Flip). Identifica oportunidades de assimetria.</p>
                        <div class="data-table-container" id="fair-value-container">
                            <!-- Populated by JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- AN√ÅLISE DE RISCO -->
            <section id="risk" class="section">
                <div class="section-header">
                    <h2 class="section-title">AN√ÅLISE DE RISCO</h2>
                    <div class="section-glow"></div>
                </div>

                <!-- Pin Risk -->
                <div class="split-layout">
                    <div class="context-box">
                        <h3>üìå Pin Risk</h3>
                        <p>Risco de 'pinning' no vencimento. Strikes com alto Open Interest que tendem a atrair o pre√ßo no vencimento.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="pinRiskChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Tabela Detalhada e NTSL -->
            <section id="consolidated" class="section">
                <div class="section-header">
                    <h2 class="section-title">DADOS DETALHADOS & NTSL</h2>
                    <div class="section-glow"></div>
                </div>

                <!-- NTSL Code -->
                <div class="split-layout" style="margin-bottom: 50px;">
                    <div class="context-box" style="width: 100%;">
                        <h3>üñ•Ô∏è C√≥digo NTSL (ProfitChart)</h3>
                        <p>Copie e cole este c√≥digo no editor de estrat√©gias do ProfitChart para visualizar os n√≠veis chave.</p>
                        <div class="code-block-container">
                            <pre id="ntsl-code-block">Loading NTSL...</pre>
                            <button class="copy-btn" id="copy-ntsl">Copiar C√≥digo</button>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Data Table -->
                <div class="split-layout">
                    <div class="context-box">
                        <h3>üìã Tabela Detalhada</h3>
                        <p>Vis√£o completa das gregas (Delta, Gamma) e Volatilidade Impl√≠cita (IV) detalhada strike a strike.</p>
                    </div>
                    <div class="table-container">
                         <table id="data-table" class="data-table">
                            <thead>
                                <tr>
                                    <th>Strike</th>
                                    <th>IV%</th>
                                    <th>Delta</th>
                                    <th>Gamma</th>
                                    <th>Vol Call</th>
                                    <th>Vol Put</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Populated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <section class="section author-section">
                    <div class="author-wrapper">
                        <div class="context-box">
                            <h3>Autor & Aviso Legal</h3>
                            <p><strong>Autor:</strong> Ednilson Szeskoski dos Santos</p>
                            <p><strong>Forma√ß√£o:</strong> Engenheiro Eletricista e Engenheiro de Seguran√ßa do Trabalho</p>
                            <p><strong>Atividade:</strong> Trader, Programador e Desenvolvedor de Estrat√©gias</p>
                            <p>Este material tem car√°ter <strong>estritamente educacional e informativo</strong>. N√£o constitui, em nenhuma hip√≥tese, recomenda√ß√£o de investimento, an√°lise de valores mobili√°rios ou consultoria individualizada. Qualquer decis√£o em mercados financeiros √© de responsabilidade exclusiva do leitor.</p>
                            <p>Aprenda mais: <a href="https://www.youtube.com/@modelogammadeopcoes" target="_blank" rel="noopener noreferrer">https://www.youtube.com/@modelogammadeopcoes</a></p>
                        </div>
                    </div>
                </section>
            </section>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 EDI Market Guardin V1. Stranger Things Edition.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- Carrega dados globais (importante para evitar CORS) -->
    <script src="assets/data/market_data.js"></script>
    
    <!-- Sistema de Part√≠culas Customizado (Stranger Things Theme) -->
    <script src="assets/js/particles.js"></script>
    
    <!-- Gr√°ficos e L√≥gica Principal -->
    <script src="assets/js/charts.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>
